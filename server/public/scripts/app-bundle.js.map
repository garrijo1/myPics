{"version":3,"sources":["src/app.js","src/auth-config.js","src/environment.js","src/main.js","src/modules/home.js","src/modules/list.js","src/resources/index.js","src/resources/data/data-services.js","src/resources/data/mypics.js","src/resources/data/users.js","src/resources/elements/flatpickr.js","src/resources/value-converters/completed.js","src/resources/value-converters/date-format.js"],"names":["App","configureRouter","config","router","addPipelineStep","map","route","moduleId","name","auth","authConfig","baseUrl","loginUrl","tokenName","authHeader","authToken","logoutRedirect","debug","testing","configure","window","regeneratorRuntime","aurelia","use","standardConfiguration","plugin","baseConfig","feature","developmentLogging","start","then","setRoot","Home","users","loginError","message","showLogin","login","email","password","sessionStorage","setItem","JSON","stringify","response","user","navigate","catch","console","log","error","showRegister","firstName","lastName","registerError","save","serverResponse","List","mypics","parse","getItem","title","showCompleted","optionSelected","showWhat","getUsergalleries","_id","showGalleryList","mypicsObj","description","picDate","Date","userId","galleriesId","galleriesObj","galleries","createmypics","savemypics","alert","mypicsId","filesToUpload","length","uploadFile","showList","creategalleries","savegalleries","showPhotos","gallery","getUsermypics","editgalleries","deletegalleries","editmypics","deletemypics","toggleShowCompleted","changeFiles","Array","push","files","removeFile","index","splice","back","logout","removeItem","globalResources","DataServices","http","httpClient","BASE_URL","withBaseUrl","withDefaults","credentials","headers","withInterceptor","request","localStorage","append","get","url","fetch","json","data","post","content","method","body","object","put","delete","uploadFiles","MYPICS_SERVICE","GALLERIES_SERVICE","mypicsArray","galleriesArray","id","i","formData","FormData","forEach","item","Users","USER_SERVICE","FlatPickerCustomElement","Element","defaultBindingMode","twoWay","element","bind","defaultConfig","altInput","altFormat","wrap","_config","Object","assign","onChange","onMonthChange","onYearChange","attached","flatpickr","querySelector","selectedDates","dateStr","instance","value","valueChanged","newDate","undefined","setDate","CompletedValueConverter","toView","array","filter","completed","DateFormatValueConverter","format"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {AuthorizeStep} from 'aurelia-auth';\n export class App {\n\tconfigureRouter(config, router) {\n\t\tthis.router = router;\n\t\tconfig.addPipelineStep('authorize', AuthorizeStep); \n\t\tconfig.map([\n\t{\t \n\t\troute: ['', 'home’'],\n\t\tmoduleId: './modules/home',\n\t\tname: 'Home' \n\t},\n\t{\n\t\troute: 'list',\n\t\tmoduleId: './modules/list',\n\t\tname: 'List',\n\t\tauth: true \n\t}\n\t]);\n\t}\n}\n\n","var authConfig = {\r\n  baseUrl: \"http://localhost:5000/api\",\r\n  loginUrl: '/users/login',\r\n  tokenName: 'token',\r\n  authHeader: 'Authorization',\r\n  authToken: '',\r\n  logoutRedirect: '#/home'\r\n}\r\n\r\nexport default authConfig;\r\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\nimport regeneratorRuntime from 'regenerator-runtime';\nwindow.regeneratorRuntime = regeneratorRuntime;\nimport config from './auth-config';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .plugin('aurelia-auth', (baseConfig)=>{\n      baseConfig.configure(config);})\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import { inject } from 'aurelia-framework';\r\nimport { Router } from 'aurelia-router';\r\nimport { Users } from '../resources/data/users';\r\nimport {AuthService} from 'aurelia-auth';\r\n\r\n  @inject(Router, Users, AuthService)\r\n    export class Home {\r\n      constructor(router, users, auth) {\r\n      this.router = router;\r\n      this.auth = auth;\r\n      this.loginError = '';\r\n      this.users=users;\r\n      this.message = 'Home';\r\n      this.showLogin=true;\r\n          //this binds message variable\r\n  }\r\n  login() {\r\n    return this.auth.login(this.email, this.password)\r\n      .then(response => {\r\n\t    sessionStorage.setItem(\"user\", JSON.stringify(response.user));\r\n\t    this.loginError = \"\";\r\n\t    this.router.navigate('list');\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        this.loginError = \"Invalid credentials.\";\r\n      });\r\n  };\r\n\r\n  showRegister(){\r\n      this.user = {\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      email: \"\",\r\n      password: \"\"\r\n      }\r\n      this.registerError = \"\";\r\n      this.showLogin = false;\r\n      }\r\n  async save() {\r\n            //this will wait until response comes back from server\r\n            let serverResponse = await this.users.save(this.user);\r\n            if (!serverResponse.error) {\r\n              this.showLogin = true;\r\n            } else {\r\n              this.registerError = \"There was a problem registering the user.\"\r\n            }\r\n      }\r\n      \r\n    }\r\n    ","import { inject } from 'aurelia-framework';\r\nimport { Router } from 'aurelia-router';\r\nimport { AuthService } from 'aurelia-auth';\r\nimport { mypics } from '../resources/data/mypics';\r\n\r\n@inject(Router, AuthService, mypics)\r\nexport class List {\r\n  constructor(router, auth, mypics) {\r\n    this.router = router;\r\n    this.auth = auth;\r\n    this.mypics = mypics;\r\n    this.user = JSON.parse(sessionStorage.getItem('user'));\r\n    // this.showWhat = \"1\";\r\n    this.title = \"Joe Has Pics!\";\r\n    this.showCompleted = false;\r\n  }\r\n\r\n  // async activate() {\r\n  //   await this.mypics.getUsermypics(this.user._id);\r\n  // }\r\n\r\n  async optionSelected() {\r\n    console.log(this.showWhat)\r\n    if (this.showWhat == \"1\") {\r\n      this.mypics.getUsergalleries(this.user._id);\r\n      this.showGalleryList = true;\r\n    } else if (this.showWhat == '2') {\r\n      this.mypics.getUsergalleries(this.user._id);\r\n      this.mypicsObj = {\r\n        mypics: \"\",\r\n        description: \"\",\r\n        picDate: new Date(),\r\n        userId: this.user._id,\r\n        galleriesId: \"\"\r\n      }\r\n    } else if (this.showWhat == '3') {\r\n      this.galleriesObj = {\r\n        galleries: \"\",\r\n        description: \"\",\r\n        userId: this.user._id,\r\n      }\r\n    }\r\n  }\r\n  createmypics() {\r\n    this.mypicsObj = {\r\n      mypics: \"\",\r\n      description: \"\",\r\n      picDate: new Date(),\r\n      userId: this.user._id,\r\n    }\r\n  }\r\n\r\n  async savemypics() {\r\n    if (this.mypicsObj) {\r\n      let response = await this.mypics.save(this.mypicsObj);\r\n      if (response.error) {\r\n        alert(\"There was an error creating the mypics\");\r\n      } else {\r\n        var mypicsId = response._id;\r\n        if (this.filesToUpload && this.filesToUpload.length) {\r\n          await this.mypics.uploadFile(this.filesToUpload, this.user._id, mypicsId);\r\n          this.filesToUpload = [];\r\n        }\r\n      }\r\n      this.showList = true;\r\n    }\r\n  }\r\n  creategalleries() {\r\n    this.galleriesObj = {\r\n      galleries: \"\",\r\n      description: \"\",\r\n      userId: this.user._id,\r\n    }\r\n  }\r\n  async savegalleries() {\r\n    if (this.galleriesObj) {\r\n      let response = await this.mypics.savegalleries(this.galleriesObj);\r\n      if (response.error) {\r\n        alert(\"There was an error creating the mypics\");\r\n      }\r\n    }\r\n  }\r\n\r\n  async showPhotos(gallery){\r\n    await this.mypics.getUsermypics(gallery._id);\r\n    this.showGalleryList = false;\r\n  }\r\n\r\n  editgalleries(gallery){\r\n    this.galleriesObj = gallery;\r\n    this.showWhat = '3';\r\n  }\r\n\r\n  deletegalleries(gallery){\r\n    this.mypics.deletegalleries(gallery._id);\r\n  }\r\n\r\n  editmypics(mypics) {\r\n    this.mypicsObj = mypics;\r\n    this.showWhat = \"2\";\r\n  }\r\n\r\n  deletemypics(mypics) {\r\n    this.mypics.deletemypics(mypics._id);\r\n  }\r\n\r\n  // completeTodo(mypics) {\r\n  //   mypics.completed = !mypics.completed;\r\n  //   this.mypicsObj = mypics;\r\n  //   this.savemypics();\r\n  // }\r\n\r\n  toggleShowCompleted() {\r\n    this.showCompleted = !this.showCompleted;\r\n  }\r\n\r\n  changeFiles() {\r\n    this.filesToUpload = new Array();\r\n    this.filesToUpload.push(this.files[0]);\r\n  }\r\n\r\n  removeFile(index) {\r\n    this.filesToUpload.splice(index, 1);\r\n  }\r\n\r\n  back() {\r\n    this.showList = true;\r\n  }\r\n\r\n  logout() {\r\n    sessionStorage.removeItem('user');\r\n    this.auth.logout();\r\n  }\r\n\r\n\r\n\r\n}\r\n\r\n","export function configure(config) {\n  config.globalResources([\n    './value-converters/date-format',\n    './value-converters/completed',\n    './elements/flatpickr'\n  ]);\n}\n","import { inject } from 'aurelia-framework';\r\nimport {HttpClient, json} from 'aurelia-fetch-client';\r\n\r\n@inject(HttpClient)\r\nexport class DataServices {\r\n\r\n\tconstructor(http) {\r\n\t\tthis.httpClient = http;\r\n        this.BASE_URL = \"http://localhost:5000/api/\";\r\n        \r\n        this.httpClient.configure(config => {\r\n            config\r\n                .withBaseUrl(this.BASE_URL)\r\n                .withDefaults({\r\n                credentials:'same-origin',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'X-Requested-With': 'Fetch'\r\n                }\r\n                })\r\n                //fnctions that will execute when we send a request and get a response \r\n                .withInterceptor({\r\n                request(request) {\r\n\t\t\t\t\tvar authHeader = 'Bearer ' + localStorage.getItem('aurelia_token')\r\n\t\t\t\t\trequest.headers.append('Authorization', authHeader);\t\t\t\t\t\r\n                    console.log('Requesting ${request.method} ${request.url}');\r\n                    return request;\r\n                },\r\n                response(response) {\r\n                    console.log('Received ${response.status} ${response.url}');\r\n                    return response;\r\n                }\r\n                });\r\n            });\r\n    \r\n    }\r\n    get(url) {\r\n        //below returns the \"promise\". If the fetch responds successfully, it will return the \"then\"\r\n\t\treturn this.httpClient.fetch(url)\r\n\t\t\t.then(response => response.json()) //then gets formatted into .json file\r\n\t\t\t.then(data => {\r\n\t\t\t\treturn data;\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\treturn error;\r\n\t\t\t});\r\n    }\r\n    post(content, url) {\r\n        //sends content with url\r\n\t\treturn this.httpClient\r\n\t\t\t.fetch(url, {\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\tbody: json(content)\r\n\t\t\t})\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(object => {\r\n\t\t\t\treturn object;\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\treturn error;\r\n\t\t\t});\r\n\t}\r\n\r\n    put(content, url) {\r\n\t\treturn this.httpClient\r\n\t\t\t.fetch(url, {\r\n\t\t\t\tmethod: 'put',\r\n\t\t\t\tbody: json(content)\r\n\t\t\t})\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(object => {\r\n\t\t\t\treturn object;\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\treturn error;\r\n\t\t\t});\r\n\t}\r\n    delete(url) {\r\n\t\treturn this.httpClient\r\n\t\t\t.fetch(url, {\r\n\t\t\t\tmethod: 'delete'\r\n\t\t\t})\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(object => {\r\n\t\t\t\treturn object;\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\treturn error ;\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tuploadFiles(files, url){\r\n\t\t    return this.httpClient\r\n\t\t    .fetch(url, {\r\n\t\t        method: 'post',\r\n\t\t        body: files\r\n\t\t    })\r\n\t\t    .then(response => response.json())\r\n\t\t    .then(object => {\r\n\t\t        return object;\r\n\t\t    })\r\n\t\t    .catch(error => {\r\n\t\t        return error;\r\n\t\t    });\r\n\t\t}\r\n\r\n}\r\n","import { inject } from 'aurelia-framework';\r\nimport { DataServices } from './data-services';\r\n\r\n@inject(DataServices)\r\nexport class mypics {\r\n\r\n    constructor(data) {\r\n        this.data = data;\r\n        this.MYPICS_SERVICE = 'mypics';\r\n        this.GALLERIES_SERVICE = 'galleries';\r\n        this.mypicsArray = [];\r\n        this.galleriesArray = [];\r\n    }\r\n    async getUsermypics(id) {\r\n        let response = await this.data.get(this.MYPICS_SERVICE + \"/galleries/\" + id);\r\n        if (!response.error && !response.message) {\r\n            this.mypicsArray = response;\r\n        }\r\n    }\r\n\r\n    async getUsergalleries(id) {\r\n        let response = await this.data.get(this.GALLERIES_SERVICE + \"/user/\" + id);\r\n        if (!response.error && !response.message) {\r\n            this.galleriesArray = response;\r\n        }\r\n    }\r\n\r\n    async save(mypics) {\r\n        if (!mypics._id) {\r\n            let serverResponse = await this.data.post(mypics, this.MYPICS_SERVICE);\r\n            if (!serverResponse.error) {\r\n                this.mypicsArray.push(serverResponse);\r\n            }\r\n            return serverResponse;\r\n         } else {\r\n            let serverResponse = await this.data.put(mypics, this.MYPICS_SERVICE + \"/\" + mypics._id);\r\n            if (!serverResponse.error) {\r\n                // this.updateArray(response);\r\n            }\r\n            return serverResponse;\r\n        }\r\n    }\r\n    async savegalleries(galleries) {\r\n        if (!galleries._id) {\r\n            let serverResponse = await this.data.post(galleries, this.GALLERIES_SERVICE);\r\n            if (!serverResponse.error) {\r\n                this.galleriesArray.push(serverResponse);\r\n            }\r\n            return serverResponse;\r\n         } else {\r\n            let serverResponse = await this.data.put(galleries, this.GALLERIES_SERVICE + \"/\" + galleries._id);\r\n            if (!serverResponse.error) {\r\n                // this.updateArray(response);\r\n            }\r\n            return serverResponse;\r\n        }\r\n    }\r\n\r\n    async deletegalleries(id) {\r\n        let response = await this.data.delete(this.GALLERIES_SERVICE + \"/\" + id);\r\n        if (!response.error) {\r\n            for (let i = 0; i < this.galleriesArray.length; i++) {\r\n                if (this.galleriesArray[i]._id === id) {\r\n                    this.galleriesArray.splice(i, 1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    async deletemypics(id) {\r\n        let response = await this.data.delete(this.MYPICS_SERVICE + \"/\" + id);\r\n        if (!response.error) {\r\n            for (let i = 0; i < this.mypicsArray.length; i++) {\r\n                if (this.mypicsArray[i]._id === id) {\r\n                    this.mypicsArray.splice(i, 1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    async uploadFile(files, userId, mypicsId) {\r\n        let formData = new FormData();\r\n        files.forEach((item, index) => {\r\n            formData.append(\"file\" + index, item);\r\n        });\r\n\r\n        let response = await this.data.uploadFiles(formData, this.MYPICS_SERVICE + \"/upload/\" + userId + \"/\" + mypicsId);\r\n        return response;\r\n    }\r\n\r\n\r\n}\r\n\r\n","import {inject} from 'aurelia-framework';\r\nimport {DataServices} from './data-services';\r\n//\"DataServices\" name has to match object name in data-services.js\r\n\r\n@inject(DataServices)\r\nexport class Users {\r\n   constructor(data) {\r\n        this.data = data;\r\n        this.USER_SERVICE = 'users';\r\n    }\r\n//this function is going to happens when the \"let serverResponse\" occurs first\r\n    async save(user){\r\n        if(user){\r\n            let serverResponse = await this.data.post(user, this.USER_SERVICE);\r\n            //when response comes back, we send it back to interface\r\n            return serverResponse;\r\n }\r\n}\r\n\r\n}\r\n","import {inject, bindable, bindingMode} from 'aurelia-framework';\r\nimport Flatpickr from 'flatpickr';\r\n@inject(Element)\r\nexport class FlatPickerCustomElement {\r\n@bindable({defaultBindingMode: bindingMode.twoWay}) value;\r\nconstructor(element) {\r\n  this.element = element;\r\n}\r\nbind() {\r\n            const defaultConfig = {\r\n                \taltInput: true,\r\n                \taltFormat: \"F j, Y\",\r\n        wrap: true\r\n            };\r\n            this._config = Object.assign({}, defaultConfig);\r\n            this._config.onChange = this._config.onMonthChange = this._config.onYearChange = this.onChange.bind(this);\r\n        }\r\n    attached() {\r\n                this.flatpickr = new Flatpickr(this.element.querySelector('.aurelia-flatpickr'), this._config);\r\n         }\r\n        onChange(selectedDates, dateStr, instance) {\r\n                this.value = selectedDates[0] \r\n        }\r\n\r\n        valueChanged() {\r\n                if (!this.flatpickr) {\r\n                    return;\r\n                }\r\n                if (this.value === this.flatpickr.selectedDates[0]){\r\n                    return;\r\n                }\r\n                let newDate = this.value ? this.value : undefined;      \r\n                this.flatpickr.setDate(newDate);\r\n            }\r\n}\r\n","export class CompletedValueConverter {      \r\n       toView(array, value) {\r\n         if(!value){\r\n          return array.filter(item => {\r\n            return !item.completed;\r\n          })\r\n         } else {\r\n           return array;\r\n         }\r\n       }\r\n      }\r\n    ","import moment from 'moment';\r\nexport class DateFormatValueConverter {\r\ntoView(value) {\r\nif(value === undefined || value === null){\r\n\treturn;\r\n    \t\t}\r\n    \r\n    \t\treturn moment(value).format('MMM Do YYYY');\r\n\t}\r\n}\r\n"],"sourceRoot":".."}